<div class="container">
  <div class="row">
    <div class="col">
      <div class="card mt-3">
        <!--<button (click)="addOne()">Add one</button>-->
        <div class="card-body">
          <p class="d-flex align-items-start mb-0">
            <span class="card-title h1">Invoices</span>
            <span class="badge badge-pill badge-secondary">{{invoicesNumber$ | async}}</span>
          </p>
          <ng-container *ngIf="(invoicesNumber$ | async)!== 0; else noInvoices">
            <p class="card-subtitle mb-2 text-muted">The list of existing invoices</p>
            <table class="table table-hover">
              <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Customer ID</th>
                <th scope="col">Discount</th>
                <th scope="col">Total</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let invoice of invoices$ | async">
                <th scope="row">{{invoice.id}}</th>
                <td>{{invoice.customer_id}} ({{getCustomerNameById(invoice.customer_id)| async}})</td>
                <td>{{invoice.discount}}</td>
                <td>{{invoice.total}}</td>
              </tr>
              </tbody>
            </table>
          </ng-container>
          <ng-template #noInvoices>
            <p class="card-subtitle mb-2 text-muted">There are no invoices yet</p>
            <p><button class="btn btn-primary" routerLink="/invoice/create">Create new invoice</button></p>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
